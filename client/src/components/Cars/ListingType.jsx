import React, { useState } from 'react'
import useFetch from '../../hooks/useFetch'

import ListingCard from './ListingCard'
import Heading from '../../shared/Heading'

import '../../assets/listings.css'


const ListingType = ({query}) => {

  const {data,error,loading} = useFetch(`http://localhost:2000/api/v1/get/listing/type/${query}`)

  const listings = data?.data?.foundCars

  if(loading) {
    return <h1>Loading...</h1>
  }

  if(error) {
    console.log(error)
  }

  const carImg = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxISDxUPEBIVFRUPFRUVFRUQFxUPFRAVFRUWFhUVFRUYHSggGBolGxUVITMiJikrLi4uFx8zODMsNygtLisBCgoKDg0OGhAQGy0mICYtKy0tLS0rLS4wLS0tLS0tLS0tLS0uLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAADBAIFAAEGBwj/xABGEAACAQIDAwgFCQYGAQUAAAABAgADEQQSIQUxQQYTUWFxgZGhByIyQrEUUnKCksHR4fAjU2Ki0vEVM0OTssJEFhckVGP/xAAaAQEAAwEBAQAAAAAAAAAAAAAAAQIEAwUG/8QANxEAAgECAwQIBQMDBQAAAAAAAAECAxEEITESQVFhBRNxgZGhsdEUIjJSwRXh8CMzkgYWQnLS/9oADAMBAAIRAxEAPwDxCZN2m7QDVpsCbAkgsAiBJASQEmFgEQJILCBZMLABhZMJCBIQU4AEJJBIcU4UU4AqKckKcaFKTFKAKCnNinHBSkhRgCXNzObj3MzOZgCHNTXNyw5mRNKAIGnImnHzSkDSgCJSQKx005BqcATKSBWNNTkGSAKlZEiMFZBlgC5EiRDFZAiADMjCESJEAjNGbmQDUyZMgBbTYE3aSAgGgJICbAkwIBoLCBZtRJqIBgWEVJtVhlWARVIRUklWFRZJBFacItOEVYZUgAlpyYpQ6pCKkAXFKTFKMqkkEgCvNTOajmSZzcATNKRNKOlJEpAETSg2pR9kg2SAINTgmpx9kgmSAINTgmSPMkC6wBJkgmWOMsEyyCRRlg2WMssGywBYiQIh2WQIgASJGEIkSIBGZN2mQA82JqSEAkJNZESawCYhFEGsKkAIohVEGsKsAKghkEEkMkkgKghlEGkMsAmohVEisKsA2BJhZtRJCTYEQs3lhRSb5p8DJjDv81vAyALFZAiO/JKn7t/sn8JFsHU/dv8AZb8JXajxJ2WIkQbCOvhXG9GHapH3QLUG+a3gZNxYTYQLCM1Ftv07dIFhLWZAs4gXEZcQLiQBZhBMIdhBMIAuwgWEYYQTCQSAYQbCHYQREACRIEQrCRIgA5knaZAJTYkZsQAghFglhFgBBCpBKIdFgE1hlkaaRmnRkkGkEOiw1LDywwWzHqNlRSx32UXsOk9A6zIbSV2BFEjNKiToBcno4xrEPQo6O/OOPcoEFQehq2o+yG7RKrFbZqN6lOyBtMlIEE9Ra5Zuwm3VOaqbWcFfnou7e+WVnxLNW1LGooT22Cno3t9kbu+0Uq7SQeyL9baeQ/GJ0Nn1G9ohR9o/gI9R2ZTG8Fj/ABa+W6XSe9nNzihc7bYeyE+zm+N5IbaxXulvq01/plrSogaAAdgAjAWwudw3yrpwl9Sv25jr5LT19rHOvt/EC/7QgjgQgPhaQHKPE/vj9mn/AEzOT1PnsS9RhcAM1jrq5sBbsv4RvlPh6KUhkCK+YaKAGIsb3twuROfw1D7I/wCK9i/Xyva78RccqMUP9Y/Zp/0yQ5X4v97ftSmPgonPl9JEtKfB4d604/4x9jp1s/ufidQnLPFrZvVsdxZNDbfYgi8dw3L/ABa6tRpMPo1U885E45cU1xc5rCwFT1wo4WB00lxyV2M+NriipZaSgGs172F9y6Cxa1gOFidbTPiMDgYQdSrTiks3lb0sWjWrtpRbPS+Su23x1JqlSgKVNdA+fOKhHtWBUaDid3nKDbPKXZauUWi1YjQtTtTXua4J7hF/SRt0UaI2dhLKqWSrk9wWutIdFxv/ALzzRn3WHbMfR/RkLdc04KWaipSVlu2mndt62vl5LpVrv6U787em71O6bamAqGwpYmlfipp1gO0M1z3TEwFOqbYavTqt+7a+Hq91OpbN3EzjMNiNY5j1z0ww9pOPHL+R18Z63Uyj9E32P5l5/N4SRn203mvDL9vItsVhWRilRWVhvVwVPgYo6Tey+VWJRebqKMTSU60sQDUsOmm/tUzYHcbDol/gKGBx2mErfJ65/wDGxZ9Vj0Uqw39hFz0SHXdP+8rLiruPfvj3ppfcwoX+n+e5zLrAssutsbFr4ZrV6TJ/FvQ9jDTu3yqcTRGSktqLuuKzK2tkxRhBsIw4gmEkACJAiGYSBEAHMkrTIAMSQkQJNRAJKIZBIIsOiQCVNY1SSRppLnZOyXq6gWX5x3d3TKzqRpxcpuyJUXJ2QrRpS3wWzWbW1h0toO7pl1gtl001Av1tvY/cOyWdHDknd4Tx8R0wo5U4979vfwNcMJ9z8CrwuzFG8Fui/qrfhcDUjsI7RA7dwGPrrzdJqNOjwo0c1BT1voS5+kZ1NKgBv16h+MYC8Nw6B+tZ48+lK7kpN3txS9NL89xo+Hp2tY8orcmtoA25gHrR6dj4sJLBcnsfTfP8kLG2n7SkLX4+0f0Z6sEEIBOr6exPCPg//Rz+DhpmebDDY4b8C/dUQzf/AMsb8BW+rZ/hPSlEIoj/AHBiPtj5+5z+Bp8zyqpjsUu7AYj6yVfuSV+M2tiyChw7IGBGtKpfUW0J4z2gaan8z2TCxPV1Sy/1DWX1QXc2vcj4GG48Do4TEblo17Hflp1Ne2w1k/8ACsVawwtfX/8AGpr/ACz35RJKejXs/GW/Xaz0gvFlvhFxPAl2Hiz/AOLif9ir/TCDk/i//qYr/Zq/0z3h6oHHw1itTEjt85D6frfavP3Cwi4s8RpcmsYzhFwtYEkD10ZAL8WYiwE9OrU12PspjSQ1KvFlUkc6w1qOR7KC2l+gCX6ux6pIB+k9fRMeI6VqYiUFUjFxTu452l26+3FM6Qw6inZ58T53p1md3Dkk1rkk7y/tA9t7j60hhabVaiUlteoyoL+qLsQBc8BrPY9vch8LiPXpjmKgN81GxQnpane2/otKt+QeFwtNsTWxGZqd2RUpimGf3AcxYnW260+hp9M0Kkbq6lwau792uZleGmnbcNbM9G2EVBzpNR+LZzTAP8IUiw7bmWf/AKEwAGrqg4k1wLDcfaYxfkbsBMaKjEkBAlxTKqCTnBJvrwG60uavovonfVqr1B6X3qTPO2cQ5XlOq/8Arp5ZGmSprKy8Cn2DyWwdF6rYWqK4Y5S4ZauTQEpmXQnj3iG2pyHwtdSXp5W+dT9VvAb+ydbg9mYXB0Voh1CoN2ruxOpY2GpJi+M22FFqSEH5zWuPqDd3nhumCo66qubqNPjdOWWSyjkvQ6Qa2dlLLyFdibMfD4NMJXqtWZbljVs5RWN1pX4gD9WsJR7Z5D4erdqQ5pumn7J7U3eFpc0sVpcm5O8nW8FtLa6UKLVnOiC/aeAmaGJxEaznSbTb0W/tWnkS6Udm0tP53nke3dj1MLWNKpY6ZlYbnU6X6jcEEcLcRYmrZZ0e0+UPy7R0yPSJZN3rI1gw06wptrulWcLPuMPKpKmutVpb/wCfzgebUSUvld0VpSQKSzOFkDhp2KFbkmR/5NMgFYtOHSjHqWEjdLBQCvp0IzTw0taOBlhhtnXIHTEpKKcpaIJNuyK7Zmy87KGsA5IW99cozVGIGuRFBY9wuCbjqNj08tNl6XY345LKFPAagAiwAFwABawYOHq0mWthmRbIKLB1D82hYlqlJW9U1LMwOYEHQ8LEzgu7PmN3YtY+sAPdXrsLC+hM+fxeMp16N7530zyS49vHi7aLLdSoyhPl6haFO+p7o9TXhuH639MBRDDet/oG3kd3iYylQdDfZI8zpPAqXehsuGVZK8HnPzT/AC/jIisL2Oh6D0dI6Zx2WRcLmmw0XNQfOHiJNag+cPERsPgQMqYVenwHT19kVWoO3sBPmIhtzlHQwoU1yy85fLZHOfLYHLpbiN5EtSoTqS2YK7KuSSuy5ZuJmBz2dbfhOSo8rGq0+foUAKWdqZq4moq5XVA9siX4MvEasIniNrYlij1MStKm+Wy4emprVWZsopoKl+NvX3ajedJ6NLoXEy1SXa/wrv8API4yxMEdu1YDfr27vCVmM5RUVNmrJfdlU526bBFuSeq0pMBsmtS2nVq42m1WlRqMlKlWqPWFX1MuemKhIYAsDe1gRb1Z13JzkhQB5+rTRMwUZEHthVCjO3G4FyNATra+s0S6JpUrKrO8uCssuN3ey525JN5FViG84rLmL7HU4pecphghOjVFanm6wGAJEvsNsXq7Sf1pLKvjqVMaAC27+057anKQ7gZjqU6EHa+0+C937eGhZSqS0LWslGiCXINuFvznj3LPl9Vq1Wo4QinTQkGoLHUbwnD63hpvd5a8oHGHYIfWqeqvVoSx7lB77Tz7k8M2KQVf8tLvUAOnNopZvIT1+jMFCadScUlol+W3m+zTfY5VpOHyp5lrs3lHi8O3OGs1anvdKhLkDiVJ1HdpOy2rjVr0lYG6uAR1g7p5uKmuawGc3IXRQWAYrb3d5tOl2DiAaPNg/wCWd3QCSR3b5ox+Dpq1WEUmtbE4aq77LZ2PJyvSwyHmlINS2bMxO69t56zLHEbbcj2rdmk5JKthNvip4c8Mpycnn25m1JIt62P43iaYsZjbo1JNydRvJlPXxkUTF+Z+H9/KaaeFyDkjsqeN65zHLvaN0SjfRiXbjovV4wuHxOk53lHnq1mVBfLTF7cFvdj1753wGGSxCb3XZxxMrU3zyAJhwMVTpqdQyXB1KkgZ1JAte5YaX3Tqjs7qnH7KrBa6s18716RBOtvXGfXiTc3tpu6dPU3oifRo8w5ltn9UA+BnSVUETqqJJBQ/I5qXOUTUAQo7PPRHaWzjLunhRGEw4kgp6WAMYrUmpo1RQDkF7HTMBvF+GnGW6UpmKwivTem/surK3YQQZSpBTg4y0ZMZbLUuBTYHGriqHO4dsyrbOpsHpk6WZe3iNI9R0nBptj5DQ+S4ZhnJvWqrqWbcVW/ugadfxUXlrjEPrFHF9M6gEj6hE+dl0ZOotqlpd2vq1uenrn+PQ+IUbKevI9SR4PaGKqKg5pMzswUXBIUG5LNbgAOkakazgqPpEPv4cfUcjyKn4yxoekLD+9Sqr2ZX+8TJ+m4iEk3T2uV8vJluvpvfY7PBtUyDncufjzVwo6hcm8OQDvHjOSpcvcFxNUdtP8CYwnLvAcaj/wC2ZmlgcTe/VvuRbrIcTp1EIik6D8pTbN5XbNqNZ67IOBdCin650E66lXoFL0vX00sVF/GUeCqRf9VbPbkR1qf0iAphRdvPcJU7ew9PFUTQqJmU6htzIw3Mh4H8SI7tHEVVJHycMRuDVkp+RE5bbPLWphWCVMMlMsLi5arcbrgrYS9HC1pT/p6p5Z55ctSXKNvmLHZmwBRoLh0JyK5q2dab3qMFUucynWyqNLWtpaNYXYNNHNUBjUfe7vUZj1XLburdOJr+k+ruVVH0UH/YmVlf0h4ttzEdhC/8RPT+E6Sqaza77eljltUY8D1/C4GlQ9dwq9WiXtuvBbQ5UoNFcfV9b4TzbYXKKniWFPEepVY+qxJyVSeBJPqt26Hhbcb9sHbS26Y62GlSls1G/fnfO/lzLwcZ5jWM24z7r/CAw9em1zWaoNdAgU3H0ifug/k8mtCKbp080l3nbkcry0rUmxNNEBWmiZWuRzgarc5rE2tZV8+qczSUnPkJAsKZJGUnMfW0v1W7+2Pco3zY2qLge4fauQFtc2GtreFppsGHCMq5s4UHKy08pa+jFrAGwuTu11Ivr9VQVqcL62/d+Z5U3eTK7CV1Fa7KGVyQysWAYm9j6pBFiRbXeO6W+wK1qw19sEN2/wBx5ysx2DyMAabLqdAVbQAC4IuCOvjcw+zkK1UY8WW3Tv1vqbHWWqx2oSXJiDtJPmdbWqWiFbEzMXiLQ+ztjtUOardV+avtN1H5vfrPEiowjtSPSk23ZFVVrE7hfW3fF6O2Fo1bPSWqthcFmQr9Eqd/aDO8xPJ96tIJTVUy+zcHv69ekjxnPYj0fYgXd6+HUdLC1u8rL0cZhGmqsrcru/jHPwONSNRW2SwofJ69PnKDOvStSzZSf4hbTunJbaZkquCAc1lN9RYjQjvtLnZ+Bp4HM1fEhwR6i4fUNfUnMwsbW4dJlPi6wr1C4ACuy2BJIAFrXZvMma8HR2ZuUW3HddNebs2cq1Tagk9d4rgUBqI3vGtTte91AbUDquV7J6vWqdfnPO9lbLc42mrAftKiOApByAXchrbiVRWt0MvTPRKmAaekZRKpUiztHn2e3X4QD4B+j4wQJ3mRj5E/R8ZkAvr2mueAga1NuuV2JR+uTcFo+NUcROR5WcsAEehQvn9lmsVy9h+/rm8YG43lLjcQu5wrW0GbUjqBGoHVulJJNWZKdnc5N6hO+G+UtwJHZHK7oPZpL9YsfgRFC9PirL9FgfIj74RLI/K24hD2omvfa838oXjTXuLD4NaYKdM/6hH0kP8A1Jmhhgd1Sme8r/yAkkG+cpH3WHY34gzL0v4h3hvuEj8kbhlPYyn75o4Sp8xu4X+EAIai2yhmt0FV/qlnsjalfD60KrDjY+ye1b28JTGiw3qR2giHp1Tut90rKMZLZkrrg8wnbQ9Q2N6REcCljUt0Otyo6wd6eY65eY/Y1DFUroFrIwuNxI6wR8V8p4fXqRzZG3MRhWzUKhXW5Xerdq/fvnlV+io32qLs+F/R6rzNEMQ1lLQ6DbfIh0u+HOYfMbRh9E7j3+c5JqLAlWUhl3hgQR2g7p6jsfl9hsRZMavM1D/qr7J62/PxlhtvkumITPYOpHq1aWpHeNR2HSUp46tQexiE3z3+z7b9pZ0oTzgzyzDutQZCAGHUPWt0fhOs5NcpihGHxZ9XdTqtvToWofm9DcOOmoQxHIHFBv2VmHAkMjDyMOvIrGsAKopqOLMSNOzLcnsmmtXwdeGzOat5r9ykadSLukd6aMnSw94HZGzalKglEM1TmxbPUAW44ADgo3AXOglmgya1GUW7vMz5hwzaTuuOl+43Xe88hxaI+JqEP6z4iorE+qqKWNvWPWRoN9jv0iKU6blkcgMSRmUjISCSpFx7wNg38Ou+J4jGZixIIuSbDrN79sJRPO5wF9bJdfeN1YHTuJE+2jHZSitx5QxsTCNULm9lpKdd37Sp6lNT9b1teCNHdl7NepiMlIMzHUX91QM12v7Ns1jfoidJijMRYmraw4EZdb/w2JHYTxsRN2ZdFaxPtMQCSSbk6jQ318JE03Fpe/kSnZ3O4weycNQ/aYmujMN4p/tsp6DluF+t5SeJ5cYOjpRTMR8438MtwezMJ53Vp5jeo7MRxclvjHdnbJq1jbD4d6l+KKWH2t3nMH6dSk71W5drsvBfls7vEz/45FxtD0i4h9KS5R/D6gPcLsPtTn8TtvFVTc1CDwI9ofXN2852ezPRXj62tQU6APzznYfVXTznW7M9DOFWxxNapVPELakvlr5zbRo06P8Abio9i/OpxlJy1Z4caNV2vld2O82ZyfvlzsrY+MJAGDxDA9FKoR42n0ZsfklgcL/kYdFPzrZmPax1lzlA3CdSp45yM5GYtKvPVKRp2BC86Vv6xuxCgm1+vXfPQKeyWA1+6dGZEiAc+2zT0QD7K6p0htIMBBBzH+D9UydJlEyTcHPHBjokW2ap4R5WPRJKpPHw1gFNiNg03FiJSYzkBSfUfCduEAGvn+UOgHD8JAPKcT6Mr+z8bSrxPovqj2b/ABntoBPD9d8ktHpgk+e8R6O8Su6/hK6tyNxS+7fuM+luaUfnNGmp90HuEA+XqnJvErvpmLPsquu+m3dPqn5DTbei+AgKmw8O2+mvhAPl0c8ulnsd4YZge0HSR59h/pr9kj4GfTVXkthDvpiKVOR2CPuCAfNzYnppp/OP+0wVk40l7mcffPop+QWDb3D4CLVfRphD7vkIB8/c9T/dfztLTAcoXoDLRD0x/BVqAHuvaeuVvRfhDut4WA74v/7U4fpHn5CVlGMlaSuSnbQ83HLfE/PqHtrVJA8ssR85/wDdeenp6KcMeg9gv4nhGKfomwnG3cJTqKWuyvBE7cuJ4/V5UV23kn6VSuf+4HlAf4iahu2QH6IJ+01z5z29PRdgRvXyEMvoywHGmT5TpGKj9KS7EiG29TwetSVt+hm6CZNzcTwB32uPIT32n6NNmj/Qv9dx5AiN0OQWzV3YSkfpjnP+V5JB4tsfk/WxJLU8iZ/eqtYt3DW2k7PZHomDWbE4lj/DRXID9Zrz1DBbMoURlo0adMDhTVUHkI2HEiwOY2RyC2fQsVw6sw96reqf5t06elTVRZVAA4KLTOcmc5JATNNZoM1JE1IAXNNF4BqsGa0AZNSRNSKmtBtWgDTVJBqsUatBtWggd5yZK/npkAjzl93n+EIlz09hsBERiAPj0TZxmmnDjJBaIoH6tJiqBu8pVrVY99t8Kp4knv8AVHnIA+cTN86f0R8Imrgce5fxklY8BbrOp84A2lS/Zru0t3yWe28gdmvnuiYck5r6HS5493GTDBdL9w3+PCAHNX9H7+iZnuN/f09nTF6Va+gF+HV+Z64zTTW5Nz4wSSFEk3vp0tx7oZEUcL9cE9YDUnx18onVxpO4kDzPYBugFhVxAGnHoGp/KLVK99587KO3piqudw7x/UYWlRLcd248Pqj74ATOdPw17hw7YZEJ/WveZKnTC68ek6wmaAYBw3dkkQOMjeZeCCd5rNIXmiYJJ5povBlpEtBAQvNFoIvIF4AfPImpFzUkDUgDDVYNqsXapBNUgDLVYNqsWarBtVgDLVYNqsVatBNXgDbVYNq0TatBNWgDvPGZK/npkA0huSSfy74ylVRr/wAdfOUwqk8RGaFQAwC1p1yfZFuv8zpD6nfu43/W6VhxwG8+G+QONJ42EAu1xSgWBueHC3fINX4m1/Lf59kqErcIZK2vA9XAdkAsUxBsdbX7j9UcIWjSLbzlHDpPdEsOQNTqY4jMRc+qPCAOrUVRb4/gJCpjDfKuvR/aImvwXdxJ+6aDDhcA97N+UALnLHU7unQLCJa2l9ePvN9HogqYJ0A7FG4dZj9CjbVjc9P3QCWHo8Tp0KPv6TGwYHPMzwA+aZmgM81ngB800WgM8iXgBy00Xi5eRNSAHLyBeANSQapAGDUg2qQDVYJqkAO1SDapANVgXrQBlqsC1WLPWgHrQBp60E1aJvWgXrwBxq0G1aItXgmrwB5q0E1aJNXgmrwB/nZkreemQBb5brCriT0zJkAMlaMJWmTIAzTqcI9QHTMmQB1KoAvIVMRm37h0cZkyASV91+4fjGaY1tx8l7JkyAPUQFGkJnmTIBnOTM8yZANc5NGpMmQCJqTXOzJkAgakiakyZAIGpINUmTIAJqsE1WZMgAXqwD1ZkyAAerF3rTJkAC9aAetMmQAD1oJq0yZAIGtBNWm5kEg+emTJkA//2Q=='

  if(listings === undefined) {
    return <h1>no data available</h1>
  }

  return (
    <div>
      <Heading text={`Explore Car Listings For ${query.toUpperCase()}`} />
      <div className='car-listing'>
      {listings && listings.map((list) => (
         <ListingCard details={list} img={carImg} key={list._id}/>
      ))}
      </div>
    </div>
  )
}

export default ListingType